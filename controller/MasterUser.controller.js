sap.ui.define(["sap/ui/core/mvc/Controller","MDG/Help/util/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter"],function(e,t,a,i,n){return e.extend("MDG.Help.controller.MasterUser",{formatter:t,onInit:function(){var e=this;this.handleUserData()},handleUserData:function(){var e=this;$.ajax({url:"/DanaoStrapi/api/users?populate=*",type:"GET",headers:{"content-type":"application/json"},dataType:"json",success:function(t){var a=[];for(var i=0;i<t.data.length;i++){var n={id:t.data[i].id,firstName:t.data[i].firstName,company:t.data[i].company,status:t.data[i].status};a.push(n)}e.getView().setModel(new sap.ui.model.json.JSONModel(a),"UserNameModel")}})},onSearch:function(e){var t=this.getView().byId("userSearchId").getValue();var n=this.getView().byId("itemlistId").getBinding("items");if(t&&t.length>0){var s=new a("firstName","Contains",t);var r=new a("lastName","Contains",t);var o=new a("status",i.EQ,t);var l=new a("company","Contains",t);var d=[s,r,o,l];var p=new sap.ui.model.Filter(d,false);var u=[];u.push(p);n.filter(u)}else{var g=[];n.filter(g)}},handleUsersListPress:function(e){this.getView().getModel("appView").setProperty("/layout","TwoColumnsMidExpanded");this.index=e.getSource().getSelectedContextPaths()[0].split("/")[1];var t=e.getSource().getSelectedItem().getBindingContext("UserNameModel").getObject().id;this.getView().getModel("appView").updateBindings(true);this.getView().getModel("appView").setProperty("/indexNo",this.index);this.getOwnerComponent().getRouter().navTo("DetailUser",{id:t,module:this.index})},onNavBack:function(){this.getView().getModel("appView").setProperty("/layout","OneColumn");this.getOwnerComponent().getRouter().navTo("Help")}})});